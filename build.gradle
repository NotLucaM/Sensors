plugins {
    id 'java'
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.8'
}

group 'frc8'
version '1.0-SNAPSHOT'

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

compileJava {
    options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation"
}

javafx {
    modules = ['javafx.controls']
}

repositories {
    mavenCentral()
    maven { url "https://clojars.org/repo" }
}

dependencies {
    compile 'kryonet:kryonet:2.21'
    compile 'com.esotericsoftware:kryo:4.0.2'
    compile 'net.sourceforge.argparse4j:argparse4j:0.8.1'
    compile 'com.fasterxml:jackson-module-json-org:0.9.1'
    implementation 'org.gillius:jfxutils:1.0'
    compile fileTree(dir: 'lib', include: ['*.jar'])
}

mainClassName = 'com.palyrobotics.KumquatVision'

jar {
    from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    manifest {
        attributes 'Main-Class': 'com.palyrobotics.KumquatVision'
    }
}
